{"version":3,"sources":["components/Cell.js","components/Row.js","components/AddRowButton.js","components/AddColButton.js","components/RemoveColButton.js","components/RemoveRowButton.js","components/Builder.js","App.js","index.js"],"names":["Cell","Row","props","cells","map","y","key","AddRowButton","className","onClick","AddColButton","RemoveColButton","style","left","offsetLeft","onMouseLeave","RemoveRowButton","top","offsetTop","Builder","matrix","Array","initialHeight","v","x","initialWidth","state","isRemoveRowBtnVisible","isRemoveColBtnVisible","handleMouseOver","bind","handleMouseLeave","handleAddRowButtonClick","handleAddColButtonClick","handleRemoveRowButtonClick","handleRemoveColButtonClick","width","this","length","row","setState","prev","height","filter","i","event","target","HTMLTableCellElement","parentNode","rowIndex","cellIndex","classList","relatedTarget","contains","rows","onMouseOver","React","Component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.98b60298.chunk.js","sourcesContent":["import React from 'react';\n\nconst Cell = () => (<td></td>);\n\nexport default Cell;\n","import React from 'react';\n\nimport Cell from './Cell';\n\nconst Row = (props) => {\n    const cells = props.cells.map(({ y }) => <Cell key={y}/>);\n    return (<tr>{cells}</tr>)\n};\n\nexport default Row;\n","import React from 'react';\n\nconst AddRowButton = (props) => {\n    return (\n        <div className=\"add bottom button\" onClick={props.onClick}>\n            +\n        </div>\n    );\n}\n\nexport default AddRowButton;\n","import React from 'react';\n\nconst AddColButton = (props) => {\n    return (\n        <div className=\"add right button\" onClick={props.onClick}>\n            +\n        </div>\n    );\n}\n\nexport default AddColButton;\n","import React from 'react';\n\nconst RemoveColButton = (props) => {\n    return (\n        <div\n            className=\"remove top button\"\n            style={{ left: `${props.offsetLeft}px` }}\n            onMouseLeave={props.onMouseLeave}\n            onClick={props.onClick}\n        >\n            -\n        </div>\n    );\n}\n\nexport default RemoveColButton;\n","import React from 'react';\n\nconst RemoveRowButton = (props) => {\n    return (\n        <div\n            className=\"remove left button\"\n            style={{ top: `${props.offsetTop}px` }}\n            onMouseLeave={props.onMouseLeave}\n            onClick={props.onClick}\n        >\n            -\n        </div>\n    );\n}\n\nexport default RemoveRowButton;\n","import React from 'react';\n\nimport Row from './Row';\nimport AddRowButton from './AddRowButton';\nimport AddColButton from './AddColButton';\nimport RemoveColButton from './RemoveColButton';\nimport RemoveRowButton from './RemoveRowButton';\n\nconst DEFAULT_PADDING = 41;\n\nclass Builder extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const matrix = [...Array(+props.initialHeight)].map((v, x) => {\n            return [...Array(+props.initialWidth)].map((v, y) => ({ x, y }))\n        });\n\n        this.state = {\n            matrix,\n            x: -1,\n            y: -1,\n            offsetLeft: DEFAULT_PADDING,\n            offsetTop: DEFAULT_PADDING,\n            isRemoveRowBtnVisible: false,\n            isRemoveColBtnVisible: false,\n        };\n\n        this.handleMouseOver = this.handleMouseOver.bind(this);\n        this.handleMouseLeave = this.handleMouseLeave.bind(this);\n\n        this.handleAddRowButtonClick = this.handleAddRowButtonClick.bind(this);\n        this.handleAddColButtonClick = this.handleAddColButtonClick.bind(this);\n\n        this.handleRemoveRowButtonClick = this.handleRemoveRowButtonClick.bind(this);\n        this.handleRemoveColButtonClick = this.handleRemoveColButtonClick.bind(this);\n    }\n\n    handleAddColButtonClick() {\n        const width = this.state.matrix[0].length;\n\n        const matrix = this.state.matrix.map((row, x) => [...row, { x, y: width }])\n\n        this.setState(prev => ({ ...prev, matrix }));\n    }\n\n    handleAddRowButtonClick() {\n        const height = this.state.matrix.length;\n        const width = this.state.matrix[0].length;\n\n        const row = [...Array(width)].map((v, y) => ({ x: height, y }));\n        const matrix = [...this.state.matrix, row];\n\n        this.setState(prev => ({ ...prev, matrix }));\n    }\n\n    handleRemoveRowButtonClick() {\n        this.setState(prev => ({\n            ...prev,\n            isRemoveRowBtnVisible: false,\n            isRemoveColBtnVisible: false,\n            matrix: this.state.matrix.filter((v, i) => i !== this.state.x),\n        }));\n    }\n\n    handleRemoveColButtonClick() {\n        const matrix = this.state.matrix.map(row => {\n            return row.filter((v, i) => i !== this.state.y);\n        });\n        this.setState(prev => ({\n            ...prev,\n            isRemoveRowBtnVisible: false,\n            isRemoveColBtnVisible: false,\n            matrix\n        }))\n    }\n\n    handleMouseOver(event) {\n        if (!(event.target instanceof HTMLTableCellElement)) return;\n\n        const x = event.target.parentNode.rowIndex;\n        const y = event.target.cellIndex;\n\n        const offsetLeft = DEFAULT_PADDING + event.target.offsetLeft;\n        const offsetTop = DEFAULT_PADDING + event.target.offsetTop;\n\n        this.setState(prev => ({\n            ...prev,\n            x,\n            y,\n            offsetLeft,\n            offsetTop,\n            isRemoveRowBtnVisible: this.state.matrix.length > 1,\n            isRemoveColBtnVisible: this.state.matrix[0].length > 1,\n        }));\n    }\n\n    handleMouseLeave(event) {\n        const classList = event.relatedTarget.classList;\n        if (classList && classList.contains('remove')) return;\n        this.setState(prev => ({\n            ...prev,\n            isRemoveRowBtnVisible: false,\n            isRemoveColBtnVisible: false,\n        }));\n    }\n\n    render() {\n        const rows = this.state.matrix.map(cells => <Row cells={cells} key={cells[0].x}/>);\n\n        return (\n            <div className=\"main\" >\n                <div className=\"table\" onMouseOver={this.handleMouseOver} onMouseLeave={this.handleMouseLeave}>\n                    <table>\n                        <tbody>{rows}</tbody>\n                    </table>\n                </div>\n\n                <AddRowButton onClick={this.handleAddRowButtonClick} />\n                <AddColButton onClick={this.handleAddColButtonClick} />\n\n                {this.state.isRemoveRowBtnVisible && <RemoveRowButton offsetTop={this.state.offsetTop} onMouseLeave={this.handleMouseLeave} onClick={this.handleRemoveRowButtonClick} />}\n                {this.state.isRemoveColBtnVisible && <RemoveColButton offsetLeft={this.state.offsetLeft} onMouseLeave={this.handleMouseLeave} onClick={this.handleRemoveColButtonClick} />}\n            </div>\n        )\n    }\n}\n\nexport default Builder;\n","import React from 'react';\n\nimport Builder from './components/Builder';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n          <Builder initialWidth='4' initialHeight='4'/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}